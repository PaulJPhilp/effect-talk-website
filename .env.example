# -----------------------------------------------------------------------------
# Local development (Docker Postgres)
# -----------------------------------------------------------------------------

# Backend API for patterns + rules
BACKEND_API_BASE_URL=http://localhost:4000

# Database (PostgreSQL). Use this when running local DB via docker compose (port 5433 to avoid conflict with local Postgres).
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/effecttalk

# WorkOS AuthKit (GitHub OAuth). See https://workos.com/docs/authkit
WORKOS_API_KEY=sk_test_xxx
WORKOS_CLIENT_ID=client_xxx
WORKOS_REDIRECT_URI=http://localhost:3000/auth/callback
# Required by @workos-inc/authkit-nextjs (min 32 chars; generate: openssl rand -base64 24)
WORKOS_COOKIE_PASSWORD=xxx
# Must match WorkOS Dashboard Redirects and callback route path (public for client redirect)
NEXT_PUBLIC_WORKOS_REDIRECT_URI=http://localhost:3000/auth/callback

# Resend (email)
RESEND_API_KEY=re_xxx

# API Key pepper (server-side secret for hashing API keys)
API_KEY_PEPPER=change-me-in-production

# Upstash Redis (optional but recommended for distributed rate limiting in production)
UPSTASH_REDIS_REST_URL=https://<your-project>.upstash.io
UPSTASH_REDIS_REST_TOKEN=<your-token>

# App
APP_BASE_URL=http://localhost:3000
APP_ENV=local

# -----------------------------------------------------------------------------
# Production (Neon + Vercel)
# Set these in Vercel Project Settings â†’ Environment Variables for Production.
# When APP_ENV=production or APP_ENV=staging, the app uses Neon's serverless
# driver (HTTP) instead of node-postgres for connection-efficient serverless.
# -----------------------------------------------------------------------------
#
# DATABASE_URL=<Neon connection string from Neon dashboard>
# APP_ENV=production
# APP_BASE_URL=https://effecttalk.com
# BACKEND_API_BASE_URL=<production backend API URL>
# WORKOS_API_KEY=sk_live_xxx
# WORKOS_CLIENT_ID=client_xxx
# WORKOS_REDIRECT_URI=https://effecttalk.com/auth/callback
# NEXT_PUBLIC_WORKOS_REDIRECT_URI=https://effecttalk.com/auth/callback
# RESEND_API_KEY=re_xxx
# API_KEY_PEPPER=<strong production secret, e.g. openssl rand -base64 32>
# UPSTASH_REDIS_REST_URL=...
# UPSTASH_REDIS_REST_TOKEN=...
